apiVersion: v1
kind: ConfigMap
metadata:
  name: homer-config
data:
  disk_usage.sh: |
    #!/bin/bash

    # # Un-break permissions on config PVCs, if attaching them here has caused a problem
    # chown 568:568 /config/* # if this pod (which runs as root) starts first, it can set config volumes to be owned by root
    
    if [ ! -f /www/assets/backgrounds/background-dark.jpg ]; then
      curl -s 'https://images.unsplash.com/photo-1545486332-9e0999c535b2?ixlib=rb-4.0.3&q=85&fm=jpg&crop=entropy&cs=srgb&dl=adrien-olichon-_GH9LwhlSO4-unsplash.jpg&w=640' -L --output /www/assets/backgrounds/background-dark.jpg
    fi

    if [ ! -f /www/assets/backgrounds/background-light.jpg ]; then
      curl -s 'https://unsplash.com/photos/kO1G3neRA2o/download?ixid=M3wxMjA3fDB8MXxzZWFyY2h8MTh8fGxpZ2h0JTIwYmFja2dyb3VuZHxlbnwwfHx8fDE3MjExNzAzMzd8MA&force=true&w=640' -L --output /www/assets/backgrounds/background-light.jpg
    fi
    
    while true
    do

    # # disabled this until migrations are done - remove the next 2 lines to restore

    #   # Once for all of /config...
    #   # tree --du -hF -s  /config/ -H https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config -T "üßù ElfHosted [/config] usage for {{ .Release.Name }}"> /www/assets/message/disk-usage-config.html

    #   for STORAGE_PATH in $(ls /config); do
    #     # And again per-app /config...
    #     # disabled on 19 Feb 2024 - consumes too much I/O now that we have "infinite" streaming - @funkypenguin
    #     tree --du -hF -s  /config/${STORAGE_PATH} -H https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/${STORAGE_PATH} -T "üßù ElfHosted [/config/${STORAGE_PATH}] usage for {{ .Release.Name }}"> /www/assets/message/disk-usage-config-${STORAGE_PATH}.html

    #     df -Ph /config/${STORAGE_PATH} | sed s/%//g > /www/assets/message/disk_space_${STORAGE_PATH}.txt
    #     PERCENTAGE_USED=$(cat /www/assets/message/disk_space_${STORAGE_PATH}.txt | sed s/%//g | awk '{print $5}' | tail -n1)
    #     DISK_USED=$(cat /www/assets/message/disk_space_${STORAGE_PATH}.txt | awk '{print $3}' | tail -n1)
    #     DISK_TOTAL=$(cat /www/assets/message/disk_space_${STORAGE_PATH}.txt | awk '{print $2}' | tail -n1)
    #     DISK_FREE=$(cat /www/assets/message/disk_space_${STORAGE_PATH}.txt | awk '{print $4}' | tail -n1)
    #     PERCENTAGE_FREE=$(echo $((100-${PERCENTAGE_USED})))

    #     # Keep the highest percentage used number
    #     if [[ ! -z ${EXISTING_USAGE+x} ]]; then
    #       if [[ "$PERCENTAGE_USED" -gt "$EXISTING_USAGE" ]]; then
    #         EXISTING_USAGE=$PERCENTAGE_USED
    #         CONFIG_BIGGEST_CONSUMER=$STORAGE_PATH
    #         CONFIG_DISK_FREE=$DISK_FREE
    #         CONFIG_PERCENTAGE_USED=$PERCENTAGE_USED
    #         CONFIG_DISK_TOTAL=$DISK_TOTAL
    #         # echo -n "<A HREF='/assets/message/disk-usage-config.html' TARGET='_blank'>/config</A>: Largest volume-per-app consumer is <A HREF='/assets/message/disk-usage-config-${CONFIG_BIGGEST_CONSUMER}.html' TARGET='_blank'>${CONFIG_BIGGEST_CONSUMER}</A> with ${PERCENTAGE_FREE}% (${DISK_FREE}) of ${DISK_TOTAL} remaining<BR/>" > /www/assets/message/message_details_config.html
    #         echo -n "<A HREF='https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/' TARGET='_blank'>/config</A>: Largest volume-per-app consumer is <A HREF='https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/${CONFIG_BIGGEST_CONSUMER}/' TARGET='_blank'>${CONFIG_BIGGEST_CONSUMER}</A> with ${PERCENTAGE_FREE}% (${DISK_FREE}) of ${DISK_TOTAL} remaining<BR/>" > /www/assets/message/message_details_config.html
    #       fi
    #     else
    #       EXISTING_USAGE=$PERCENTAGE_USED
    #       CONFIG_BIGGEST_CONSUMER=$STORAGE_PATH
    #       CONFIG_DISK_FREE=$DISK_FREE
    #       CONFIG_PERCENTAGE_USED=$PERCENTAGE_USED
    #       CONFIG_DISK_TOTAL=$DISK_TOTAL
    #       echo -n "<A HREF='https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/' TARGET='_blank'>/config</A>: Largest volume-per-app consumer is <A HREF='https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/${CONFIG_BIGGEST_CONSUMER}/' TARGET='_blank'>${CONFIG_BIGGEST_CONSUMER}</A> with ${PERCENTAGE_FREE}% (${DISK_FREE}) of ${DISK_TOTAL} remaining<BR/>" > /www/assets/message/message_details_config.html
    #     fi
    #   done


      cat /dev/null > /www/assets/message/message_details.html

      # PERCENTAGE_USED=$(cat /www/assets/message/disk_space_percent_used)
      # if [[ "$PERCENTAGE_USED" -ge 90 || "$CONFIG_PERCENTAGE_USED" -ge 90 ]]; then
      #   STYLE="is-danger"
      #   ICON="fa fa-thermometer-full"
      #   MESSAGE="Time to clean up! üßπ"
      # elif [[ "$PERCENTAGE_USED" -ge 75 || "$CONFIG_PERCENTAGE_USED" -ge 75 ]]; then
      #   STYLE="is-warning"
      #   ICON="fa fa-thermometer-three-quarters"
      #   MESSAGE="Getting full.. üçî"
      # elif [[ "$PERCENTAGE_USED" -ge 50 || "$CONFIG_PERCENTAGE_USED" -ge 50 ]]; then
      #   STYLE="is-info"
      #   ICON="fa fa-thermometer-half"
      #   MESSAGE="Halfway there.."
      # elif [[ "$PERCENTAGE_USED" -ge 25  || "$CONFIG_PERCENTAGE_USED" -ge 25 ]]; then
      #   STYLE="is-success"
      #   ICON="fa fa-thermometer-quarter"
      #   MESSAGE="Nice and tidy! üëç"
      # else
      #   STYLE="is-success"
      #   ICON="fa fa-thermometer-empty"
      #   MESSAGE="Gigabytes everywhere! ü•≥"
      # fi

      STYLE="is-success"
      ICON="fa fa-magic"
      MESSAGE="App hosting that works like magic! (<I>Stats updated roughly hourly</I>)"

      {{ if or .Values.zurg.enabled .Values.zurghobbit.enabled .Values.zurgplus.enabled }}
      RD_DAYS_REMAINING=$(curl -s http://zurg:9999/stats | jq .user_info.premium) # days
      RD_LIBRARY_SIZE=$(curl -s http://zurg:9999/stats | jq .library_size) # items
      ZURG_MESSAGE="üëΩ Zurg reports $RD_LIBRARY_SIZE items, premium expires in $RD_DAYS_REMAINING days</br>"
      {{ end }}

      {{ if or .Values.riven.enabled .Values.rivenhobbit.enabled .Values.rivenplus.enabled }}
      RIVEN_TOTAL_ITEMS=$(curl -s http://riven:8080/stats | jq .data.total_items) # items
      RIVEN_TOTAL_MOVIES=$(curl -s http://riven:8080/stats | jq .data.total_movies) # items
      RIVEN_TOTAL_SHOWS=$(curl -s http://riven:8080/stats | jq .data.total_shows) # items
      RIVEN_TOTAL_SEASONS=$(curl -s http://riven:8080/stats | jq .data.total_seasons) # items
      RIVEN_TOTAL_EPISODES=$(curl -s http://riven:8080/stats | jq .data.total_episodes) # items
      RIVEN_MESSAGE="üóª Riven reports $RIVEN_TOTAL_ITEMS total items (<I>$RIVEN_TOTAL_MOVIES movies üçø, $RIVEN_TOTAL_SHOWS shows üì∫ across $RIVEN_TOTAL_SEASONS seasons and $RIVEN_TOTAL_EPISODES episodes!</I>)"
      {{ end }}

      COMPLIMENT=$(curl -s https://8768zwfurd.execute-api.us-east-1.amazonaws.com/v1/compliments | tr -d '"')

      # MESSAGE_DETAILS=$(cat /www/assets/message/message_details.html /www/assets/message/message_details_config.html )
      echo "{ \"title\":\"Welcome, {{ .Release.Name }}!\", \"content\":\"${COMPLIMENT}</BR>${ZURG_MESSAGE} ${RIVEN_MESSAGE}\",\"style\":\"${STYLE}\",\"icon\":\"${ICON}\" }" > /www/assets/message/message.json
            
      sleep $(shuf -i 1800-5400 -n 1)
    done

  config.yml: |
    ---
    # Homepage configuration
    # See https://fontawesome.com/icons for icons options

    # Optional: Use external configuration file.
    # Using this will ignore remaining config in this file
    # externalConfig: https://example.com/server-luci/config.yaml

    subtitle: "{{ .Release.Name }} is ..."
    title: "ElfHosted!"
    documentTitle: "ElfHosted - {{ .Release.Name }}" # Customize the browser tab text
    # Alternatively a fa icon can be provided:
    # icon: "fas fa-wand-magic-sparkles"
    logo: https://elfhosted.com/images/logo.png
    header: true # Set to false to hide the header
    footer: Version {{ .Chart.Version }}

    columns: "3" # "auto" or number (must be a factor of 12: 1, 2, 3, 4, 6, 12)
    connectivityCheck: false # whether you want to display a message when the apps are not accessible anymore (VPN disconnected for example)

    # Optional theming
    # theme: default # 'default' or one of the themes available in 'src/assets/themes'.

    # Optional custom stylesheet
    # Will load custom CSS files. Especially useful for custom icon sets.
    stylesheet:
      - "assets/custom.css"

    # Here is the exhaustive list of customization parameters
    # However all value are optional and will fallback to default if not set.
    # if you want to change only some of the colors, feel free to remove all unused key.
    colors:
      light:
        highlight-primary: "#222526"
        highlight-secondary: "#4285f4"
        highlight-hover: "#5a95f5"
        background: "#222526"
        card-background: "#ffffff"
        text: "#363636"
        text-header: "#ffffff"
        text-title: "#303030"
        text-subtitle: "#424242"
        card-shadow: rgba(0, 0, 0, 0.1)
        link-hover: "#363636"
        background-image: /assets/backgrounds/background-light.jpg
      dark:
        highlight-primary: "#222526"
        highlight-secondary: "#4285f4"
        highlight-hover: "#5a95f5"
        background: "#222526"
        card-background: "#2b2b2b"
        text: "#eaeaea"
        text-header: "#ffffff"
        text-title: "#fafafa"
        text-subtitle: "#f5f5f5"
        card-shadow: rgba(0, 0, 0, 0.4)
        link-hover: "#ffdd57"
        background-image: /assets/backgrounds/background-dark.jpg

    {{ if or .Values.zurg.enabled .Values.zurghobbit.enabled .Values.zurgplus.enabled .Values.riven.enabled .Values.rivenhobbit.enabled .Values.rivenplus.enabled }}
    # Optional message
    message:
      url: https://{{ .Release.Name }}.{{ .Values.dns_domain }}/assets/message/message.json
      # mapping:
      #   content: 'message'
      #   style: 'style'
      #   title: 'title'
      refreshInterval: 30000
      # icon: "fa fa-seedling"
    {{ end }}
    
    # Optional navbar
    # links: [] # Allows for navbar (dark mode, layout, and search) without any links
    links:

      - name: "Apps"
        icon: "fas fa-couch"
        url: "#config"

      - name: "Health"
        icon: "fas fa-heartbeat"
        url: "https://{{ .Release.Name }}-health.{{ .Values.dns_domain }}"
        target: "_blank" # optional html tag target attribute

      - name: "Store"
        icon: "fas fa-store"
        url: "https://store.elfhosted.com"
        target: "_blank" # optional html tag target attribute

      - name: "Docs"
        icon: "fas fa-book"
        url: "https://{{ .Values.dns_domain }}"
        target: "_blank" # optional html tag target attribute

      - name: "Subscription"
        icon: "fa fa-user"
        url: "https://store.elfhosted.com/my-account/subscriptions/"
        target: "_blank" # optional html tag target attribute

      - name: "Discord"
        icon: "fa-brands fa-discord"
        url: "https://discord.elfhosted.com"
        target: "_blank" # optional html tag target attribute

      - name: "Logout"
        icon: "fas fa-lock"
        url: https://{{ .Release.Name }}-auth-me.{{ .Values.dns_domain }}/_oauth/logout

    # Services
    # First level array represents a group.
    # Leave only a "items" key if not using group (group name, icon & tagstyle are optional, section separation will not be displayed).
    services:
      - name: "Consume Media"
        icon: "fas fa-couch"
        # A path to an image can also be provided. Note that icon take precedence if both icon and logo are set.
        # logo: "path/to/logo"
        items:
          {{ if or .Values.jellyfin.enabled .Values.jellyfinplus.enabled .Values.jellyfinhobbit.enabled  }}
          - name: "Jellyfin"
            logo: "assets/png/jellyfin.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Watch Movies/TV"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-jellyfin.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if or .Values.plex.enabled .Values.plexplus.enabled .Values.plexhobbit.enabled }}
          - name: "Plex"
            logo: "assets/png/plex.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Watch Movies/TV"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-plex.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if or .Values.emby.enabled .Values.embyplus.enabled .Values.embyhobbit.enabled }}
          - name: "Emby"
            logo: "assets/png/emby.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Watch Movies/TV"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-emby.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.navidrome.enabled }}
          - name: "Navidrome"
            logo: "assets/png/navidrome.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Listen to Music"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-navidrome.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.calibreweb.enabled }}
          - name: "Calibre Web"
            logo: "assets/png/calibre-web.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Read Books"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-calibre-web.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.calibre.enabled }}
          - name: "Calibre"
            logo: "assets/png/calibre.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-calibre.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.komga.enabled }}
          - name: "Komga"
            logo: "assets/png/komga.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Read Comics / Books"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-komga.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.kavita.enabled }}
          - name: "Kavita"
            logo: "assets/png/kavita.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Read Comics / Books"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-kavita.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.audiobookshelf.enabled }}
          - name: "Audiobookshelf"
            logo: "assets/png/audiobookshelf.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Listen to Books/Podcasts"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-audiobookshelf.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.xtremio.enabled }}
          - name: "Xtremio"
            icon: "fas fa-tv"
            subtitle: "Watch IPTV in Stremio"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-xtremio.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}     

          {{ if .Values.stremiojackett.enabled }}
          - name: "Stremio Jackett"
            logo: "assets/png/jackett.png"
            subtitle: "Access Jackett via Stremio"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-stremio-jackett.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }} 

          {{ if or .Values.stremiojackettcommunity.enabled .Values.stremiojackettcommunityalldebrid.enabled }}
          - name: "Stremio Jackett (Community)"
            logo: "assets/png/jackett.png"
            subtitle: "Addon with community cache"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-stremio-jackett-community.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }} 

          {{ if .Values.jackettio.enabled }}
          - name: "Jackettio"
            logo: "assets/png/jackett.png"
            subtitle: "Stremio Addon supporting private trackers"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-jackettio.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}                     

          {{ if .Values.davio.enabled }}
          - name: "Davio"
            logo: "assets/png/webdav.png"
            subtitle: "Stremio Addon to stream your WebDAV content"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-davio.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}                     

          {{ if .Values.annatar.enabled }}
          - name: "Annatar"
            logo: "assets/png/annatar.png"
            subtitle: "Fast Jackett searches via Stremio"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-annatar.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}  

          {{ if .Values.comet.enabled }}
          - name: "Comet"
            icon: "fas fa-meteor"
            {{ if .Values.prowlarr.enabled }}            
            subtitle: "Proxy-Stremio from DMM & Jackett"
            {{ else if .Values.prowlarr.enabled }}            
            subtitle: "Proxy-Stremio from DMM & Prowlarr"
            {{ else }}            
            subtitle: "Proxy-Stremio from DMM"
            {{ end }}
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-comet.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}                     

          {{ if .Values.torrentio.enabled }}
          - name: "Torrentio"
            icon: "fas fa-tint"
            subtitle: "Torrent indexer for Stremio"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-torrentio.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}    

          {{ if .Values.knightcrawler.enabled }}
          - name: "Knightcrawler"
            icon: "fas fa-chess-knight"
            subtitle: "Torrent indexer for Stremio"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-knightcrawler.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}     

          {{ if .Values.knightcrawlervpn.enabled }}
          - name: "Knightcrawler (VPN)"
            icon: "fas fa-chess-knight"
            subtitle: "Torrent indexer for Stremio (VPN)"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-knightcrawler-vpn.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.mediafusion.enabled }}
          - name: "MediaFusion"
            icon: "fas fa-atom"
            subtitle: "Multi-source AddOn for Stremio"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-mediafusion.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}  

          {{ if .Values.mediaflowproxy.enabled }}
          - name: "MediaFlow Proxy"
            icon: "fas fa-copy"
            subtitle: "Video Streaming Proxy"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-mediaflow-proxy.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}            

          {{ if .Values.shluflix.enabled }}
          - name: "Shluflix"
            icon: "fas fa-tv"
            subtitle: "Watch HTTP streams with Stremio"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-shluflix.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}  

          {{ if .Values.stremify.enabled }}
          - name: "Stremify"
            icon: "fas fa-tv"
            subtitle: "Watch HTTP streams with Stremio"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-stremify.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}            

          {{ if or .Values.stremioserver.enabled .Values.stremioserverpia.enabled .Values.stremioservergluetun.enabled }}
          - name: "Stremio Server"
            logo: "assets/png/stremio.png"
            subtitle: "Stremio Server"
            tag: "public"
            tagstyle: "is-danger"
            {{ if not .Values.stremioweb.enabled }}
              {{ if .Values.stremioserver.enabled }}
            url: "https://web.strem.io/?streamingServer=https%3A%2F%2F{{ .Release.Name }}-stremio-server-{{ .Values.stremioserver.SECRET_STRING }}.{{ .Values.dns_domain }}#/"
              {{ else if .Values.stremioserverpia.enabled }}
            url: "https://web.strem.io/?streamingServer=https%3A%2F%2F{{ .Release.Name }}-stremio-server-{{ .Values.stremioserverpia.SECRET_STRING }}.{{ .Values.dns_domain }}#/"
              {{ else if .Values.stremioservergluetun.enabled }}
            url: "https://web.strem.io/?streamingServer=https%3A%2F%2F{{ .Release.Name }}-stremio-server-{{ .Values.stremioservergluetun.SECRET_STRING }}.{{ .Values.dns_domain }}#/"
              {{ end }}            
            {{ else }}
              {{ if .Values.stremioserver.enabled }}
            url: "https://{{ .Release.Name }}-stremio-web.{{ .Values.dns_domain }}/?streamingServer=https%3A%2F%2F{{ .Release.Name }}-stremio-server-{{ .Values.stremioserver.SECRET_STRING }}.{{ .Values.dns_domain }}#/"
              {{ else if .Values.stremioserverpia.enabled }}
            url: "https://{{ .Release.Name }}-stremio-web.{{ .Values.dns_domain }}/?streamingServer=https%3A%2F%2F{{ .Release.Name }}-stremio-server-{{ .Values.stremioserverpia.SECRET_STRING }}.{{ .Values.dns_domain }}#/"
              {{ else if .Values.stremioservergluetun.enabled }}
            url: "https://{{ .Release.Name }}-stremio-web.{{ .Values.dns_domain }}/?streamingServer=https%3A%2F%2F{{ .Release.Name }}-stremio-server-{{ .Values.stremioservergluetun.SECRET_STRING }}.{{ .Values.dns_domain }}#/"
              {{ end }}            
            {{ end }}
            target: "_blank" # optional html tag target attribute
          {{ end }}      

          {{ if .Values.stremioweb.enabled }}
          - name: "Stremio Web"
            logo: "assets/png/stremio.png"
            subtitle: "Stremio Web"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-stremio-web.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}                      

      - name: "Manage Media"
        icon: "fas fa-photo-video"
        items:
          {{ if or .Values.radarr.enabled .Values.radarrplus.enabled .Values.radarrhobbit.enabled }}
          - name: "Radarr"
            logo: "assets/png/radarr.png"
            subtitle: "Manage Movies"
            {{ if .Values.radarrexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-radarr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "Radarr"
            apikey: "{{ .Values.radarrexposed.apikey }}"
            useCredentials: true
          {{ end }}

          {{ if or .Values.radarr4k.enabled .Values.radarr4kplus.enabled .Values.radarr4khobbit.enabled  }}
          - name: "Radarr 4K"
            logo: "assets/png/radarr.png"
            subtitle: "Manage Movies (4K)"
            {{ if .Values.radarr4kexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-radarr4k.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "Radarr"
            apikey: "{{ .Values.radarr4kexposed.apikey }}"
            useCredentials: true
          {{ end }}

          {{ if or .Values.sonarr.enabled .Values.sonarrplus.enabled .Values.sonarrhobbit.enabled }}
          - name: "Sonarr"
            logo: "assets/png/sonarr.png"
            subtitle: "Manage Series"
            {{ if .Values.sonarrexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-sonarr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "Sonarr"
            apikey: "{{ .Values.sonarrexposed.apikey }}"
            useCredentials: true
          {{ end }}

          {{ if or .Values.sonarr4k.enabled .Values.sonarr4kplus.enabled .Values.sonarr4khobbit.enabled }}
          - name: "Sonarr 4K"
            logo: "assets/png/sonarr.png"
            subtitle: "Manage Series (4K)"
            {{ if .Values.sonarr4kexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-sonarr4k.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "Sonarr"
            apikey: "{{ .Values.sonarr4kexposed.apikey }}"
            useCredentials: true
          {{ end }}

          {{ if .Values.lidarr.enabled }}
          - name: "Lidarr"
            logo: "assets/png/lidarr.png"
            subtitle: "Manage Music"
            {{ if .Values.lidarrexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-lidarr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "Lidarr"
            apikey: "{{ .Values.lidarrexposed.apikey }}"
            useCredentials: true
          {{ end }}

          {{ if .Values.readarr.enabled }}
          - name: "Readarr"
            logo: "assets/png/readarr.png"
            subtitle: "Manage Books"
            {{ if .Values.readarrexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-readarr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "Readarr"
            apikey: "{{ .Values.readarrexposed.apikey }}"
            useCredentials: true
          {{ end }}

          {{ if .Values.readarraudio.enabled }}
          - name: "Readarr (Audio)"
            logo: "assets/png/readarr.png"
            subtitle: "Manage Audio Books"
            {{ if .Values.readarraudioexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-readarraudio.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "Readarr"
            apikey: "{{ .Values.readarraudioexposed.apikey }}"
            useCredentials: true
          {{ end }}

          {{ if .Values.lazylibrarian.enabled }}
          - name: "LazyLibrarian"
            logo: "assets/png/lazylibrarian.png"
            subtitle: "Manage Books"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-lazylibrarian.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            {{ end }}

          {{ if .Values.bazarr.enabled }}
          - name: "Bazarr"
            logo: "assets/png/bazarr.png"
            subtitle: "Manage Subtitles"
            {{ if .Values.bazarrexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-bazarr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.bazarr4k.enabled }}
          - name: "Bazarr 4K"
            logo: "assets/png/bazarr.png"
            subtitle: "Manage Subtitles (4K)"
            {{ if .Values.bazarr4kexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-bazarr4k.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.mylar.enabled }}
          - name: "Mylar"
            logo: "assets/png/mylar.png"
            subtitle: "Manage Comics"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-mylar.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.rpdb.enabled }}
          - name: "RPDB"
            icon: "fas fa-star"
            subtitle: "Manage Media Ratings Posters"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-rpdb.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.ombi.enabled }}
          - name: "Ombi"
            logo: "assets/png/ombi.png"
            subtitle: "Manage Requests"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-ombi.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.overseerr.enabled }}
          - name: "Overseerr"
            logo: "assets/png/overseerr.png"
            subtitle: "Manage Requests"
            tag: "public"
            tagstyle: "is-danger"
            {{- if .Values.overseerrcustomdomain.enabled }}
            url: "https://{{ .Values.overseerrcustomdomain.cname }}"
            {{- else }}
            url: "https://{{ .Release.Name }}-overseerr.{{ .Values.dns_domain }}"
            {{- end }}
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.jellyseerr.enabled }}
          - name: "Jellyseerr"
            logo: "assets/png/jellyseerr.png"
            subtitle: "Manage Requests"
            tag: "public"
            tagstyle: "is-danger"
            {{- if .Values.jellyseerrcustomdomain.enabled }}
            url: "https://{{ .Values.jellyseerrcustomdomain.cname }}"
            {{- else }}
            url: "https://{{ .Release.Name }}-jellyseerr.{{ .Values.dns_domain }}"
            {{- end }}
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.jfa.enabled }}
          - name: "Jellyfin Accounts"
            icon: "fas fa-users"
            subtitle: "Manage Requests"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-jfa.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.tautulli.enabled }}
          - name: "Tautulli"
            logo: "assets/png/tautulli.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Plex Statistics"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-tautulli.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.xteve.enabled }}
          - name: "XTeve"
            logo: "assets/png/xteve.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Live TV Proxy for Plex/Emby"
            {{ if .Values.xteveexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-xteve.{{ .Values.dns_domain }}/web/"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.threadfin.enabled }}
          - name: "Threadfin"
            # Alternatively a fa icon can be provided:
            icon: "fas fa-tv"
            subtitle: "Live TV Proxy for Plex/Jellyfin/Emby"
            {{ if .Values.threadfinexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-threadfin.{{ .Values.dns_domain }}/web/"
            target: "_blank" # optional html tag target attribute
          {{ end }}          

          {{ if .Values.nextpvr.enabled }}
          - name: "NextPVR"
            # logo: "assets/png/nextpvr.png"
            # Alternatively a fa icon can be provided:
            icon: "fas fa-tv"
            subtitle: "Live TV Proxy"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-nextpvr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.channelsdvr.enabled }}
          - name: "Channels DRV"
            logo: "assets/png/channels.png"
            subtitle: "Watch TV your way"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-channelsdvr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}          

          {{ if .Values.notifiarr.enabled }}
          - name: "Notifiarr"
            logo: "assets/png/notifiarr.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Discord-based notifications"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-notifiarr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.shoko.enabled }}
          - name: "Shoko"
            logo: "assets/png/shoko.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Manage Anime"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-shoko.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.filebot.enabled }}
          - name: "FileBot"
            logo: "assets/png/filebot.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Automate Media Management"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-filebot.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.unpackerr.enabled }}
          - name: "Unpackerr"
            # logo: "assets/png/unpackerr.png"
            # Alternatively a fa icon can be provided:
            icon: "fas fa-box-archive"
            subtitle: "Unpack Media"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/unpackerr/"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if or .Values.kometa.enabled .Values.kometaplus.enabled .Values.kometahobbit.enabled }}
          - name: "Kometa"
            icon: "fas fa-meteor"
            # Alternatively a fa icon can be provided:
            # icon: "fas fa-photo-film"
            subtitle: "Manage Plex Metadata"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-kometa.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}          

          {{ if .Values.autoscan.enabled }}
          - name: "Autoscan"
            # logo: "assets/png/autoscan.png"
            # Alternatively a fa icon can be provided:
            icon: "fas fa-search"
            subtitle: "Configure Autoscan"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/autoscan/"
            target: "_blank" # optional html tag target attribute
          {{ end }}          

          {{ if .Values.recyclarr.enabled }}
          - name: "Recyclarr"
            icon: "fas fa-recycle"
            subtitle: "Configure Recyclarr"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/recyclarr/"
            target: "_blank" # optional html tag target attribute
          {{ end }}                    

          {{ if or .Values.plexdebrid.enabled .Values.plexdebridplus.enabled .Values.plexdebridhobbit.enabled }}
          - name: "plex-debrid"
            logo: "assets/png/real-debrid.png"
            # Alternatively a fa icon can be provided:
            # icon: "fab fa-photo-video"
            subtitle: "Sync Plex / Jellyfin with Debrid services"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-plex-debrid.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}   

          {{ if or .Values.riven.enabled .Values.rivenplus.enabled .Values.rivenhobbit.enabled }}
          - name: "Riven"
            icon: "fas fa-mountain"
            subtitle: "All-in-one Debrid Media Management"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-riven.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute

          - name: "Riven (backend)"
            icon: "fas fa-mountain"
            subtitle: "Geek out over Riven's backend"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-riven-backend.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}                           

      - name: "Download Media"
        icon: "fas fa-cloud-arrow-down"
        items:
          {{ if .Values.nzbget.enabled }}
          - name: "NZBGet"
            logo: "assets/png/nzbget.png"
            subtitle: "Usenet client"
            {{ if .Values.nzbgetexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-nzbget.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.sabnzbd.enabled }}
          - name: "SABnzbd"
            logo: "assets/png/sabnzbd.png"
            subtitle: "Usenet client"
            {{ if .Values.sabnzbdexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-sabnzbd.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "SABnzbd"
            apikey: "{{ .Values.sabnzbdexposed.apikey }}"
            downloadInterval: 60000 # (Optional) Interval (in ms) for updating the download count - so this would be 1m
            useCredentials: true
          {{ end }}

          {{ if or .Values.prowlarr.enabled .Values.prowlarrplus.enabled .Values.prowlarrhobbit.enabled }}
          - name: "Prowlarr"
            logo: "assets/png/prowlarr.png"
            subtitle: "Manage Indexers"
            {{ if .Values.prowlarrexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-prowlarr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "Prowlarr"
            apikey: "{{ .Values.prowlarrexposed.apikey }}"
            useCredentials: true
          {{ end }}

          {{ if .Values.jackett.enabled }}
          - name: "Jackett"
            logo: "assets/png/jackett.png"
            subtitle: "Manage Indexers / Trackers"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-jackett.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}                             

          {{ if .Values.nzbhydra.enabled }}
          - name: "NZBHydra"
            logo: "assets/png/nzbhydra.png"
            subtitle: "Manage Indexers"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-nzbhydra.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if or .Values.delugepia.enabled .Values.delugegluetun.enabled }}
          - name: "Deluge"
            logo: "assets/png/deluge.png"
            subtitle: "Bittorrent client"
            {{ if .Values.delugeexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-deluge.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if or .Values.qbittorrentpia.enabled .Values.qbittorrentgluetun.enabled }}
          - name: "Qbittorrent"
            logo: "assets/png/qbittorrent.png"
            subtitle: "Bittorrent client"
            {{ if .Values.qbittorrentexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-qbittorrent.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            type: "qBittorrent"
            rateInterval: 30000 # Interval for updating the download and upload rates.
            torrentInterval: 60000 # Interval for updating the torrent count.
            useCredentials: true
            {{ end }}

          {{ if or .Values.rutorrentpia.enabled .Values.rutorrentgluetun.enabled }}
          - name: "ruTorrent"
            logo: "assets/png/rutorrent.png"
            subtitle: "Bittorrent client"
            {{ if .Values.rutorrentexposed.enabled }}
            tag: "public"
            tagstyle: "is-danger"
            {{ else }}
            tag: "protected"
            tagstyle: "is-success"
            {{ end }}
            url: "https://{{ .Release.Name }}-rutorrent.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
            # xmlrpc: "https://{{ .Release.Name }}-rutorrent.{{ .Values.dns_domain }}" # Homer will automatically suffix /RPC2 to this, which we catch in our ingressroute.
            # type: "Rtorrent"
            # rateInterval: 30000 # Interval for updating the download and upload rates.
            # torrentInterval: 60000 # Interval for updating the torrent count.
            # useCredentials: true
            {{ end }}

          {{ if .Values.pyload.enabled }}
          - name: "Pyload"
            logo: "assets/png/pyload.png"
            subtitle: "Manage Downloads"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-pyload.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.youtubedl.enabled }}
          - name: "Youtube DL"
            logo: "assets/png/youtubedl.png"
            subtitle: "Download Youtube Videos"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-youtubedl.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.rapidleech.enabled }}
          - name: "Rapidleech"
            icon: "fas fa-bolt-lightning"
            subtitle: "Rapidly Leech"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-rapidleech.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.rdtclient.enabled }}
          - name: "RDT Client"
            logo: "assets/png/real-debrid.png"
            subtitle: "Manage Real Debrid services"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-rdtclient.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.blackhole.enabled }}
          - name: "Blackhole"
            icon: "fas fa-circle"
            subtitle: "West's Blackhole Script"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-blackhole.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.blackhole4k.enabled }}
          - name: "Blackhole (4K)"
            icon: "fas fa-circle"
            subtitle: "West's Blackhole Script (4K)"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-blackhole4k.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.rdtclientvpnpia.enabled }}
          - name: "RDT Client (AllDebrid)"
            logo: "assets/png/real-debrid.png"
            subtitle: "Download from AllDebrid"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-rdtclient-alldebrid.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if or .Values.zurg.enabled .Values.zurggluetun.enabled .Values.zurgplus.enabled .Values.zurghobbit.enabled }}
          - name: "Zurg"
            logo: "assets/png/real-debrid.png"
            subtitle: "Manage Real Debrid WebDAV proxy"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-zurg.{{ .Values.dns_domain }}/http/"
            target: "_blank" # optional html tag target attribute
          {{ end }}       

          {{ if .Values.rclonemountalldebridpia.enabled }}
          - name: "AllDebrid"
            icon: "fas fa-audio-description"
            subtitle: "Manage AllDebrid via WebDAV"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-alldebrid.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}                    

          {{ if .Values.openbooks.enabled }}
          - name: "Openbooks"
            icon: "fas fa-book-open-reader"
            subtitle: "Manage Book Downloads"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-openbooks.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.jdownloader.enabled }}
          - name: "jDownloader"
            logo: "assets/png/jdownloader.png"
            subtitle: "Manage Downloads"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/jdownloader/"
            target: "_blank" # optional html tag target attribute
          {{ end }}      

          {{ if or .Values.airdcpppia.enabled  .Values.airdcppgluetun.enabled }}
          - name: "AirDC++"
            icon: "fas fa-wind"
            subtitle: "Manage DC++ Sharing"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-airdcpp.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}    

          {{ if or .Values.doplarr.enabled }}
          - name: "Doplarr"
            icon: "fas fa-comments"
            subtitle: "Manage media requests via Discord"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-doplarr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}    

          {{ if or .Values.requestrr.enabled }}
          - name: "Requestrr"
            icon: "fas fa-comments"
            subtitle: "Manage media requests via Chatbot"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-requestrr.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}              

      - name: "Tools"
        icon: "fas fa-toolbox"
        items:

          - name: "FileBrowser"
            logo: "assets/png/filebrowser.png"
            subtitle: "Manage Files"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute

          - name: "ElfTerm"
            icon: "fas fa-terminal"
            subtitle: "Enter the ElfTerm.. ü™Ñ"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-elfterm.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute            

          - name: "Kubernetes Dashboard"
            logo: "assets/png/kubernetes.png"
            subtitle: "Kubernetes Resources"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-kubernetes.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute

          {{ if .Values.privatebin.enabled }}
          - name: "Privatebin"
            logo: "assets/png/privatebin.png"
            subtitle: "Minimalistic pastebin"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-privatebin.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.miniflux.enabled }}
          - name: "Miniflux"
            logo: "assets/png/miniflux.png"
            subtitle: "Minimalistic RSS reader"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-miniflux.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.uptimekuma.enabled }}
          - name: "Uptime Kuma"
            logo: "assets/png/uptime-kuma.png"
            subtitle: "Uptime Monitor"
            tag: "public"
            tagstyle: "is-danger"
            {{- if .Values.uptimekumacustomdomain.enabled }}
            url: "https://{{ .Values.uptimekumacustomdomain.cname }}"
            {{- else }}
            url: "https://{{ .Release.Name }}-uptime-kuma.{{ .Values.dns_domain }}"
            {{- end }}
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.gotify.enabled }}
          - name: "Gotify"
            logo: "assets/png/gotify.png"
            subtitle: "Gotify"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-gotify.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.nextcloud.enabled }}
          - name: "NextCloud"
            logo: "assets/png/nextcloud.png"
            subtitle: "Collaborate in the Cloud"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-nextcloud.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.seafile.enabled }}
          - name: "Seafile"
            logo: "assets/png/seafile.png"
            subtitle: "Securely sync data"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-seafile.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.resiliosync.enabled }}
          - name: "Resilio Sync"
            logo: "assets/png/resiliosync.png"
            subtitle: "Securely sync data"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-resilio-sync.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.syncthing.enabled }}
          - name: "Sync Thing"
            logo: "assets/png/syncthing.png"
            subtitle: "Securely sync data"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-syncthing.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.thelounge.enabled }}
          - name: "The Lounge"
            logo: "assets/png/thelounge.png"
            subtitle: "IRC client"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-thelounge.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.vaultwarden.enabled }}
          - name: "Vaultwarden"
            logo: "assets/png/vaultwarden.png"
            subtitle: "Securely manage passwords / secrets"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-vaultwarden.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.mattermost.enabled }}
          - name: "Mattermost"
            logo: "assets/png/mattermost.png"
            subtitle: "Team group chat"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-mattermost.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.joplinserver.enabled }}
          - name: "Joplin Server"
            logo: "assets/png/joplin.png"
            subtitle: "Manage Joplin Sync"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-joplin-server.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.homepage.enabled }}
          - name: "Homepage"
            logo: "assets/png/homepage.png"
            subtitle: "Beautiful Homepage"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-homepage.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.wallabag.enabled }}
          - name: "Wallabag"
            logo: "assets/png/wallabag.png"
            subtitle: "Read it Later"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-wallabag.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.pgadmin.enabled }}
          - name: "PGAdmin"
            logo: "assets/png/pgadmin.png"
            subtitle: "PostgreSQL Admin"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-pgadmin.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}   

          {{ if .Values.redisinsight.enabled }}
          - name: "RedisInsight"
            logo: "assets/png/redisinsight.png"
            subtitle: "Redis UI"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-redisinsight.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}   

          {{ if .Values.codeserver.enabled }}
          - name: "Code Server"
            logo: "assets/png/code-server.png"
            subtitle: "Code Server"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-codeserver.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}  

          {{ if .Values.gluetun.enabled }}
          - name: "Gluetun"
            icon: "fas fa-lock"
            subtitle: "Configure your BYO VPN"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-kubernetes.{{ .Values.dns_domain }}/#/configmap/aa-{{ .Release.Name }}/gluetun-config?namespace=aa-{{ .Release.Name }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}                     

      - name: "Rclone"
        icon: "fas fa-truck"
        items:

          - name: "Rclone Remotes"
            logo: "assets/png/rclone.png"
            subtitle: "Rclone remotes"
            tag: "protected"
            tagstyle: "is-success"
            url: "https://{{ .Release.Name }}-filebrowser.{{ .Values.dns_domain }}/files/config/rclonebrowser/rclone.conf"
            target: "_blank" # optional html tag target attribute

          - name: "Rclone UI"
            logo: "assets/png/rclone.png"
            subtitle: "Rclone UI"
            tag: "protected"
            tagstyle: "is-success"
            {{ if .Values.rcloneui.enabled }}
            url: "https://{{ .Release.Name }}-rcloneui.{{ .Values.dns_domain }}"
            {{ else }}
            url: https://store.elfhosted.com/product/rcloneui
            {{ end }}
            target: "_blank" # optional html tag target attribute

          - name: "Rclone FM"
            logo: "assets/png/rclone.png"
            subtitle: "Rclone File Manager"
            tag: "protected"
            tagstyle: "is-success"
            {{ if .Values.rclonefm.enabled }}
            url: "https://{{ .Release.Name }}-rclonefm.{{ .Values.dns_domain }}"
            {{ else }}
            url: https://store.elfhosted.com/product/rclonefm
            {{ end }}
            target: "_blank" # optional html tag target attribute

          {{ if .Values.webdav.enabled }}
          - name: "WebDAV"
            logo: "assets/png/rclone.png"
            subtitle: "WebDAV"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-webdav.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

          {{ if .Values.webdavplus.enabled }}
          - name: "WebDAV Plus"
            logo: "assets/png/rclone.png"
            subtitle: "WebDAV Plus"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://{{ .Release.Name }}-webdav-plus.{{ .Values.dns_domain }}"
            target: "_blank" # optional html tag target attribute
          {{ end }}

      - name: "Grafana"
        icon: "fas fa-globe"
        items:

          - name: "Cluster Resources"
            logo: "assets/png/grafana.png"
            subtitle: "Cluster Resources"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://fnky.nz/grafana-elfhosted"
            target: "_blank" # optional html tag target attribute

          - name: "KnightCrawler"
            logo: "assets/png/grafana.png"
            subtitle: "Knightcrawler"
            tag: "public"
            tagstyle: "is-danger"
            url: "https://fnky.nz/grafana-knightcrawler"
            target: "_blank" # optional html tag target attribute
            
  custom.css: |
    @charset "UTF-8";

    /* raleway-regular - latin */
    @font-face {
      font-family: 'Raleway';
      font-style: normal;
      font-weight: 400;
      src: url('./fonts/raleway-v22-latin-regular.eot'); /* IE9 Compat Modes */
      src: local(''),
          url('./fonts/raleway-v22-latin-regular.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
          url('./fonts/raleway-v22-latin-regular.woff2') format('woff2'), /* Super Modern Browsers */
          url('./fonts/raleway-v22-latin-regular.woff') format('woff'), /* Modern Browsers */
          url('./fonts/raleway-v22-latin-regular.ttf') format('truetype'), /* Safari, Android, iOS */
          url('./fonts/raleway-v22-latin-regular.svg#Raleway') format('svg'); /* Legacy iOS */
    }

    /* lato-regular - latin */
    @font-face {
      font-family: 'Lato';
      font-style: normal;
      font-weight: 400;
      src: url('./fonts/lato-v20-latin-regular.eot'); /* IE9 Compat Modes */
      src: local(''),
          url('./fonts/lato-v20-latin-regular.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
          url('./fonts/lato-v20-latin-regular.woff2') format('woff2'), /* Super Modern Browsers */
          url('./fonts/lato-v20-latin-regular.woff') format('woff'), /* Modern Browsers */
          url('./fonts/lato-v20-latin-regular.ttf') format('truetype'), /* Safari, Android, iOS */
          url('./fonts/lato-v20-latin-regular.svg#Lato') format('svg'); /* Legacy iOS */
    }

    /* lato-700 - latin */
    @font-face {
      font-family: 'Lato';
      font-style: normal;
      font-weight: 700;
      src: url('./fonts/lato-v20-latin-700.eot'); /* IE9 Compat Modes */
      src: local(''),
          url('./fonts/lato-v20-latin-700.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
          url('./fonts/lato-v20-latin-700.woff2') format('woff2'), /* Super Modern Browsers */
          url('./fonts/lato-v20-latin-700.woff') format('woff'), /* Modern Browsers */
          url('./fonts/lato-v20-latin-700.ttf') format('truetype'), /* Safari, Android, iOS */
          url('./fonts/lato-v20-latin-700.svg#Lato') format('svg'); /* Legacy iOS */
    }

    /* lato-900 - latin */
    @font-face {
      font-family: 'Lato';
      font-style: normal;
      font-weight: 900;
      src: url('./fonts/lato-v20-latin-900.eot'); /* IE9 Compat Modes */
      src: local(''),
          url('./fonts/lato-v20-latin-900.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
          url('./fonts/lato-v20-latin-900.woff2') format('woff2'), /* Super Modern Browsers */
          url('./fonts/lato-v20-latin-900.woff') format('woff'), /* Modern Browsers */
          url('./fonts/lato-v20-latin-900.ttf') format('truetype'), /* Safari, Android, iOS */
          url('./fonts/lato-v20-latin-900.svg#Lato') format('svg'); /* Legacy iOS */
    }

    /* Sets the group title to be a bolder font */
    .group-title {
      font-family: Lato;
      font-weight: 800;
    }

    /* Changes the card title to be a bolder font */
    .title {
      font-weight: 700;
    }

    /* Changes the subtitle to be a bolder font */
    .subtitle {
      font-weight: 500;
    }

    /* Adds spacing to the bottom of cards */
    body #app .card-content {
      margin-bottom: 0.75rem;
    }

    /*Adds more border radius to the cards */
    body .layout-vertical .column div:first-of-type .card {
      border-radius: 1rem;
    }
    body .layout-vertical .card {
      border-radius: 1rem;
    }
    .card {
        border-radius: 1rem;
    }
    body .layout-vertical .column div:last-of-type .card { 
        border-radius: 1rem; 
    }

    /* Changes Header Opacity */
    body #bighead .first-line {
      background-color: #50762E;
    }
    body #bighead .navbar {
      background-color: #36511F;
    }

    body .search-bar input {
        opacity: 20%;
    }

    body #bighead .navbar a:focus, body #bighead .navbar a:hover {
      background-color: #50762E;
      color: var(--link-hover);
    }    