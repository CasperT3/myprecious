{{ if or .Values.zurg.enabled .Values.zurggluetun.enabled .Values.zurgplus.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: zurg-env
data:
  LOG_LEVEL: info
  # We use this configmap to let a user opt into/out of gluetun for zurg
  {{ if .Values.gluetun.enabled }}
  ZURG_GLUETUN_ENABLED: "true"
  WAIT_FOR_VPN: "true"
  PUBLICIP_API_TOKEN: 55fe9f88aee13d # don't steal mine, get yours for free at https://ipinfo.io/account/token
  {{ else }}
  ZURG_WARP_ENABLED: "true"
  PROXY: socks5://127.0.0.1:1080
  WAIT_FOR_WARP: "true"
  {{ end }}
{{ end }}